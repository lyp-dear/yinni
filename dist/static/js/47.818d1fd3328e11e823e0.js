webpackJsonp([47],{"75WN":function(t,e){},"y+bD":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("fZjL"),n=s.n(i),a=s("mvHQ"),r=s.n(a),o=s("woOf"),c=s.n(o),u=s("Dd8w"),d=s.n(u),l=s("NYxO"),m={mixins:[s("mrJ/").a],computed:d()({},Object(l.c)({userInfo:"user/userInfo",userAccount:"user/userAccount"}),{disPlayList:function(){var t=[];return this.currentitem&&(t=this.currentitem.selection.split(",")),t},minAmount:function(){return this.currentitem?this.currentitem.minAmount:10},maxAmount:function(){return this.currentitem?this.currentitem.maxAmount:100},currency:function(){return this.currentitem?this.currentitem.exchangeRateList[0].currency:""},symbol:function(){return this.currentitem?this.currentitem.exchangeRateList[0].symbol:""}}),data:function(){return{usdtNum:"",radio:"",balanceNumber:0,cashTypes:"PAYMENT_OTC",bankList:[],currentitem:null,needKyc:!1,isLoading:!1,showCpf:!1,showCpfInfo:!1,isSureCpf:!1,buyLoading:!1,showCardList:!1,activeIndex:0,bankNameCard:{name:""}}},created:function(){this.getList()},methods:d()({},Object(l.b)({queryDisplayList:"user/queryDisplayList",place_order:"user/place_order"}),{chooseCard:function(){this.showCardList=!0},focus:function(){this.scrollTop=document.scrollingElement.scrollTop},blur:function(){document.scrollingElement.scrollTo(0,this.scrollTop)},selectNum:function(t,e){e!=this.activeIndex&&(this.activeIndex=e,this.usdtNum=t)},getList:function(){var t=this,e={cashTypes:this.cashTypes};this.queryDisplayList(e).then(function(e){e.data.map(function(e){var s=c()({},e);s.name=s.displayName,t.bankList.push(s)}),t.currentitem=e.data[0],t.radio=e.data[0].id,t.usdtNum=t.currentitem.selection.split(",")[0],t.needKyc=t.currentitem.needKyc,t.bankNameCard.name=e.data[0].displayName})},chooseBank:function(t){this.radio=t.id,this.currentitem=c()({},t),this.usdtNum=this.currentitem.selection.split(",")[0],this.needKyc=this.currentitem.needKyc,this.bankNameCard.name=this.currentitem.displayName},buy:function(){var t=this;if(Number(this.usdtNum)<1*this.minAmount)this.errDialog(""+this.$t("depost.txt5")+this.symbol+" "+this.minAmount);else if(Number(this.usdtNum)>1*this.maxAmount)this.errDialog(this.$t("depost.txt6")+" "+this.symbol+" "+this.maxAmount);else if(!this.needKyc||this.isSureCpf||this.isCpf()){var e={passagewayId:this.currentitem.id,reqMoney:this.usdtNum,reqCurrency:this.currency};this.isLoading=!0,this.place_order(e).then(function(e){if(t.isLoading=!1,t.isSureCpf=!1,e&&0==e.code){var s=e.data;if(!s)return;var i=s.type,n=s.content;if(1==i)t.$router.push({path:"/payiframe",query:{src:n}});else if(2==i)sessionStorage.setItem("payData",r()(e.data));else if(4==i){var a=n;window.webkit?window.webkit.messageHandlers.openBrowser.postMessage(a):window.appInterface?window.appInterface.openBrowser(a):window.location.href=n}else 5==i?(t.formHTML=n,t.$nextTick(function(){document.getElementById("pixForm").submit()})):t.$router.push({path:"/deposit"})}else t.errDialog(e.msg)}).catch(function(e){t.isLoading=!1,t.isSureCpf=!1,t.errDialog(t.$t("load.txt6"))})}else this.$router.push({path:"/cpf",query:{type:this.currentitem.displayName}})},updateCpf:function(){this.$router.push({path:"/cpf",query:{type:this.currentitem.displayName}})},sureCpf:function(){this.showCpfInfo=!1,this.isSureCpf=!0,this.buy()},isCpf:function(){var t=this.userInfo,e={name:"",mobilePhone:"",email:""};return n()(e).forEach(function(s){e[s]=t[s]}),n()(e).filter(function(t){return!e[t]&&"number"!=typeof e[t]}).length<=0}})},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modMain",{staticClass:"noPadding in-money",attrs:{title:t.$t("my.txt4"),from:"inMoney"}},[s("div",{staticClass:"price-box"},[s("p",[s("span",[t._v(t._s(t.$t("depost.txt1")))])]),t._v(" "),s("div",{staticClass:"price-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.usdtNum,expression:"usdtNum"}],attrs:{type:"text",placeholder:t.$t("depost.txt2")},domProps:{value:t.usdtNum},on:{focus:t.focus,blur:t.blur,input:function(e){e.target.composing||(t.usdtNum=e.target.value)}}}),t._v(" "),s("div",{staticClass:"price-type"},[t._v("IDR")])]),t._v(" "),s("p",{staticClass:"choose-tit"},[t._v(t._s(t.$t("depost.txt20")))]),t._v(" "),s("div",{staticClass:"choose-money"},t._l(t.disPlayList,function(e,i){return s("div",{key:i,staticClass:"price-box-info",class:[i==t.activeIndex?"active":""],on:{click:function(s){return t.selectNum(e,i)}}},[t._v("\n        "+t._s(t.$utils.getkStr(e))+"\n      ")])}),0)]),t._v(" "),s("p",{staticClass:"choose-card-tit"},[t._v(t._s(t.$t("depost.txt3")))]),t._v(" "),s("div",{staticClass:"choose-card",on:{click:t.chooseCard}},[s("div",{staticClass:"card-name"},[t._v(t._s(t.bankNameCard.name))]),t._v(" "),s("van-icon",{staticClass:"arrow",attrs:{name:"arrow"}})],1),t._v(" "),s("div",{staticClass:"inver-btn"},[s("van-button",{staticClass:"btn",attrs:{loading:t.isLoading},on:{click:t.buy}},[t._v(t._s(t.$t("my.txt4")))])],1),t._v(" "),s("van-action-sheet",{attrs:{actions:t.bankList,"cancel-text":t.$t("dialog.txt2"),description:t.$t("depost.txt3"),"close-on-click-action":""},on:{select:t.chooseBank},model:{value:t.showCardList,callback:function(e){t.showCardList=e},expression:"showCardList"}}),t._v(" "),s("van-dialog",{attrs:{title:t.$t("cpf.txt1"),"show-cancel-button":"",cancelButtonText:t.$t("cpf.txt2"),"confirm-button-text":t.$t("cpf.txt3"),cancelButtonColor:"#1fbf75"},on:{cancel:t.updateCpf,confirm:t.sureCpf},model:{value:t.showCpfInfo,callback:function(e){t.showCpfInfo=e},expression:"showCpfInfo"}},[t.userInfo?s("div",{staticClass:"cpf-info"},[s("div",{staticClass:"item"},[s("span",[t._v(t._s(t.$t("cpf.txt4")))]),t._v(" "),s("span",[t._v(t._s(t.userInfo.name))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",[t._v(t._s(t.$t("cpf.txt5")))]),t._v(" "),s("span",[t._v(t._s(t.userInfo.email))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",[t._v(t._s(t.$t("cpf.txt6")))]),t._v(" "),s("span",[t._v(t._s(t.userInfo.mobilePhone))])])]):t._e()])],1)},staticRenderFns:[]};var f=s("VU/8")(m,p,!1,function(t){s("75WN")},"data-v-2d6f3ed6",null);e.default=f.exports}});