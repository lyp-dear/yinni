webpackJsonp([42],{PSts:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("Xxa5"),s=e.n(n),i=e("exGp"),r=e.n(i),u=e("woOf"),c=e.n(u),d=e("Dd8w"),o=e.n(d),l=e("NYxO"),h={mixins:[e("mrJ/").a],computed:o()({},Object(l.c)({userInfo:"user/userInfo",userAccount:"user/userAccount"}),{feeRate:function(){if(this.currentitem){var t=this.currentitem.exchangeRateList.find(function(t){return"IDR"==t.currency});return 100*(t.feeRate+t.taxRate)}return"0.00"},feeMoney:function(){if(this.usdtNum){var t=this.currentitem.exchangeRateList.find(function(t){return"IDR"==t.currency});return(this.usdtNum*(t.feeRate+t.taxRate)).toFixed(0)}return"0.00"},minAmount:function(){if(this.currentitem){var t=this.currentitem,a=t.minAmount;t.maxAmount,t.vipMinAmount;return a}return"0:00"},minAmountText:function(){var t="";if(this.currentitem){var a=this.currentitem,e=a.minAmount,n=a.maxAmount,s=(a.vipMinAmount,e);t=this.$utils.currencyType+s+"-"+this.$utils.currencyType+n}return t}}),created:function(){},data:function(){return{radio:"",balanceNumber:0,bankcards:[],showLoadding:!1,bankCardId:0,cashTypes:"WITHDRAW_OTC",bankList:[],currentitem:null,usdtNum:"",isLoading:!1,showCardList:!1,bankNameCard:{name:"",bankCardId:""}}},beforeRouteEnter:function(t,a,e){e(function(t){t.getQueryUser()})},methods:o()({},Object(l.b)({queryAccountList:"user/queryAccountList",queryDisplayList:"user/queryDisplayList",applyBurse:"user/applyBurseOtc",getBankCard:"bankCard/getBankCard"}),{chooseCard:function(){this.showCardList=!0},choosebank:function(t,a){this.bankCardId=t.id,this.bankNameCard={name:t.bankName,bankCardId:t.bankCardId}},allPrice:function(){this.usdtNum=this.balanceNumber},buy:function(){var t=this,a=this.currentitem,e=(a.id,a.maxAmount);if(1*this.usdtNum<Number(this.minAmount))this.errDialog(""+this.$t("withdrawal.txt12")+this.minAmount+this.$utils.currencyType);else if(1*this.usdtNum>Number(e))this.errDialog(""+this.$t("withdrawal.txt13")+this.$utils.currencyType+e);else{var n={passagewayId:this.radio,targetCurrency:"IDR",reqNum:this.usdtNum,bindId:this.bankCardId},s=this;this.isLoading=!0,this.applyBurse(n).then(function(a){t.isLoading=!1,0==a.code?s.$router.push({path:"result-success",query:{type:2}}):5025==a.code?t.$dialog.alert({title:t.$t("withdrawal.txt14"),message:t.$t("withdrawal.txt9")}):s.errDialog(a.msg)}).catch(function(a){t.showpass=!1,t.isLoading=!1,"4105"==a.code?t.$dialog.alert({title:t.$t("withdrawal.txt14"),message:t.$t("withdrawal.txt9")}):t.errDialog(a.msg)})}},_getBankCard:function(){var t=this;this.showLoadding=!0,this.getBankCard().then(function(a){0==a.code&&(a.data.map(function(a){var e=c()({},a);e.name=e.bankCardId,t.bankcards.push(e)}),t.bankCardId=a.data[0].id,t.bankNameCard={name:a.data[0].bankName,bankCardId:a.data[0].bankCardId});t.showLoadding=!1}).catch(function(a){t.showLoadding=!1})},getList:function(){var t=this,a={cashTypes:this.cashTypes};this.queryDisplayList(a).then(function(a){t.bankList=a.data,t.currentitem=a.data[0],t.radio=a.data[0].id})},getQueryUser:function(){var t=this;return r()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.userInfo||!t.userInfo.username){a.next=8;break}return a.next=3,t.queryAccountList();case 3:return a.next=5,t._getBankCard();case 5:return a.next=7,t.getList();case 7:t.balanceNumber=t.userAccount.balance-t.userAccount.freezeCapital;case 8:case"end":return a.stop()}},a,t)}))()},chooseBank:function(t){this.radio=t.id,this.currentitem=c()({},t)}})},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("modMain",{staticClass:"noPadding in-withdrwawl",attrs:{title:t.$t("my.txt5")}},[e("div",{staticClass:"price-box"},[e("p",[e("span",[t._v(t._s(t.$t("withdrawal.txt18")))]),t._v(" "),e("span",[t._v(t._s(t.$t("my.txt1"))+t._s(t.$utils.currencyType)+t._s(t.$utils.getkStr(t.balanceNumber)))])]),t._v(" "),e("div",{staticClass:"price-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.usdtNum,expression:"usdtNum"}],attrs:{type:"text",placeholder:t.minAmountText},domProps:{value:t.usdtNum},on:{input:function(a){a.target.composing||(t.usdtNum=a.target.value)}}}),t._v(" "),e("div",{staticClass:"price-type"},[t._v("IDR")]),t._v(" "),e("div",{staticClass:"price-all",on:{click:t.allPrice}},[t._v("\n        "+t._s(t.$t("withdrawal.txt19"))+"\n      ")])]),t._v(" "),e("p",{staticClass:"price-fee"},[e("span",[t._v(" "+t._s(t.$t("withdrawal.txt2")))]),t._v(" "),e("span",[t._v(" "+t._s(t.feeRate)+"%")])])]),t._v(" "),e("p",{staticClass:"choose-card-tit"},[t._v(t._s(t.$t("withdrawal.txt4")))]),t._v(" "),e("div",{staticClass:"choose-card",on:{click:t.chooseCard}},[e("div",{staticClass:"card-name"},[t._v(t._s(t.bankNameCard.name))]),t._v(" "),e("div",{staticClass:"card-number"},[t._v(t._s(t.bankNameCard.bankCardId))]),t._v(" "),e("van-icon",{staticClass:"arrow",attrs:{name:"arrow"}})],1),t._v(" "),e("div",{staticClass:"tips"},[e("h3",[t._v(t._s(t.$t("task.txt109")))]),t._v(" "),e("p",[t._v("1: "+t._s(t.$t("withdrawal.txt6"))+".")]),t._v(" "),e("p",[t._v("2: "+t._s(t.$t("withdrawal.txt9"))+".")]),t._v(" "),e("p",[t._v("3: "+t._s(t.$t("faq.txt17"))+".")]),t._v(" "),e("p",[t._v("\n      "+t._s(t.$t("withdrawal.txt10"))+"\n      "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.toService("whats")}}},[t._v("Telegram")])])]),t._v(" "),e("div",{staticClass:"inver-btn"},[e("p",[e("span",[t._v(" "+t._s(t.$t("withdrawal.txt3")))]),t._v(" "),e("span",[t._v(" "+t._s(t.$utils.currencyType)+t._s(this.usdtNum-t.feeMoney)+" ")])]),t._v(" "),e("van-button",{staticClass:"btn",attrs:{loading:t.isLoading},on:{click:t.buy}},[t._v(t._s(t.$t("my.txt5")))])],1),t._v(" "),t.showLoadding?e("loadding"):t._e(),t._v(" "),e("van-action-sheet",{attrs:{actions:t.bankcards,"cancel-text":t.$t("dialog.txt2"),description:t.$t("withdrawal.txt4"),"close-on-click-action":""},on:{select:t.choosebank},model:{value:t.showCardList,callback:function(a){t.showCardList=a},expression:"showCardList"}})],1)},staticRenderFns:[]};var v=e("VU/8")(h,m,!1,function(t){e("k69W")},"data-v-6ec500c2",null);a.default=v.exports},k69W:function(t,a){}});