webpackJsonp([52],{"r/LO":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("Dd8w"),i=r.n(o),s=r("NYxO"),n={data:function(){return{code:"",form:null,isErrorCode:!1}},computed:{disabled:function(){return""==this.code||this.code.length<4},txtPhone:function(){var e=this.$route.query.data;this.form=JSON.parse(e);var t=this.form.username;if(t&&-1==t.indexOf("@")){var r=/(\d{3})(\d{4})(\d{4})/,o=t.length;return 11==o?r=/(\d{3})(\d{4})(\d{4})/:10==o?r=/(\d{3})(\d{4})(\d{3})/:9==o?r=/(\d{3})(\d{3})(\d{3})/:8==o?r=/(\d{3})(\d{3})(\d{2})/:7==o?r=/(\d{2})(\d{2})(\d{3})/:6==o?r=/(\d{2})(\d{2})(\d{2})/:5==o&&(r=/(\d{2})(\d{1})(\d{2})/),t.match(r).slice(1).reduce(function(e,t,r){return 1===r?e+"****":e+t})}var i=t.split("@");return(i[0].length>4?i[0].substring(0,4):i[0])+"****@"+i[1]}},methods:i()({},Object(s.b)("user",{register:"register",login:"login",codeVerify:"codeVerify"}),{onSubmit:function(){var e=this;if(this.form.verifyCode=this.code,6!=this.code.length)return this.errDialog(this.$t("reglogin.txt16")),void(this.isErrorCode=!0);if(this.form.isfrom&&"reset"==this.form.isfrom){var t={mobilePhone:this.form.username,code:this.form.verifyCode};this.codeVerify(t).then(function(r){r&&0==r.code?e.$router.push({path:"/updateLoginPwd",query:{verifyCode:e.form.verifyCode,username:t.mobilePhone}}):e.errDialog(r.msg)})}else if(this.form.isfrom&&"verfication2"==this.form.isfrom){var r={mobilePhone:"EMAIL"==this.form.type?this.form.email:this.form.phone,code:this.form.verifyCode};this.codeVerify(r).then(function(t){t&&0==t.code?e.$router.push("/verfication2"):e.errDialog(t.msg)})}else this.register(this.form).then(function(t){if(0==t.code){e.showDialog(e.$t("reset.txt12"));var r={platform:"H5",username:e.form.username,password:e.form.password,areaCode:e.form.areaCode,authorityType:"CLIENT"};e.login(r).then(function(t){0===t.code&&(localStorage.removeItem("KYCDATA"),localStorage.removeItem("password"),localStorage.removeItem("reg_username"),localStorage.setItem("username",e.form.username),e.$nextTick(function(){e.$router.push({path:"/"})}))})}else e.errDialog(t.msg)})}})},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modMain",{attrs:{title:e.$t("reset.txt8")}},[r("div",{staticClass:"verif-main"},[r("p",[e._v("\n      "+e._s(e.$t("reset.txt9"))+"\n    ")]),e._v(" "),r("p",{staticClass:"send-code"},[e._v(e._s(e.$t("reset.txt10"))+e._s(e.txtPhone))]),e._v(" "),r("base-send",{ref:"sendPhone",attrs:{type:"text",sendData:e.form,placeholder:e.$t("reset.txt11"),isError:e.isErrorCode},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),r("base-btn",{attrs:{disabled:e.disabled,btnTitle:"Next"},on:{btnClick:e.onSubmit}})],1)])},staticRenderFns:[]},a=r("VU/8")(n,d,!1,null,null,null);t.default=a.exports}});