webpackJsonp([53],{"0ox9":function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("Xxa5"),a=s.n(t),o=s("exGp"),n=s.n(o),d=s("Dd8w"),i=s.n(d),w=s("NYxO"),l={data:function(){return{newPassword:"",newPassword2:"",oldPassword:"",isErrorOldPwd:!1,isErrorPwd1:!1,isErrorPwd2:!1,username:""}},computed:i()({},Object(w.c)({userInfo:"user/userInfo"}),{areaItem:function(){return this.$store.getters.getAreaCode()},disabled:function(){return this.$route.query.verifyCode?""==this.newPassword||""==this.newPassword2:""==this.newPassword||""==this.oldPassword||""==this.newPassword2}}),methods:i()({},Object(w.b)({updateLoginPwd:"user/updateLoginPwd",updateLoginPwd2:"user/updateLoginPwd2"}),{submitForm:function(){var e=this;return n()(a.a.mark(function r(){var s,t,o,n,d;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isErrorPwd1=e.isVaild(e.newPassword),e.isErrorPwd2=e.isVaild(e.newPassword2),!e.isErrorPwd1&&!e.isErrorPwd2){r.next=4;break}return r.abrupt("return");case 4:if(e.newPassword==e.newPassword2){r.next=7;break}return e.errDialog(e.$t("reset.txt19")),r.abrupt("return");case 7:if(s={oldPassword:e.oldPassword,newPassword:e.newPassword,username:e.userInfo.username,areaCode:e.areaItem.code},t=e.$route.query,o=t.verifyCode,n=t.username,o?(s.verifyCode=o,s.username=n,delete s.oldPassword):e.isErrorOldPwd=e.isVaild(e.oldPassword),!o){r.next=16;break}return r.next=13,e.updateLoginPwd2(s);case 13:r.t0=r.sent,r.next=19;break;case 16:return r.next=18,e.updateLoginPwd(s);case 18:r.t0=r.sent;case 19:(d=r.t0)&&0==d.code?(e.showDialog(e.$t("reset.txt20")),e.$router.replace("/login")):e.errDialog(d.msg);case 21:case"end":return r.stop()}},r,e)}))()},isVaild:function(e){return!this.onFailed({name:"password",value:e})}})},u={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("modMain",{attrs:{title:e.$t("reset.txt1"),isSave:!0,activity:!e.disabled},on:{save:e.submitForm}},[s("div",{staticClass:"login-main padTop20"},[e.$route.query.verifyCode?e._e():[s("p",{staticClass:"ipt-title"},[e._v(e._s(e.$t("reset.txt13")))]),e._v(" "),s("base-input",{attrs:{type:"password",isError:e.isErrorOldPwd,placeholder:e.$t("reset.txt14")},model:{value:e.oldPassword,callback:function(r){e.oldPassword="string"==typeof r?r.trim():r},expression:"oldPassword"}})],e._v(" "),s("p",{staticClass:"ipt-title"},[e._v(e._s(e.$t("reset.txt15")))]),e._v(" "),s("base-input",{attrs:{type:"password",isError:e.isErrorPwd1,name:"newPasswor",placeholder:e.$t("reset.txt16")},model:{value:e.newPassword,callback:function(r){e.newPassword="string"==typeof r?r.trim():r},expression:"newPassword"}}),e._v(" "),s("p",{staticClass:"ipt-title"},[e._v(e._s(e.$t("reset.txt17")))]),e._v(" "),s("base-input",{attrs:{type:"password",isError:e.isErrorPwd1,name:"newPassword2",placeholder:e.$t("reset.txt18")},model:{value:e.newPassword2,callback:function(r){e.newPassword2="string"==typeof r?r.trim():r},expression:"newPassword2"}})],2),e._v(" "),s("div",{staticClass:"btn-box btn-fixed"},[s("base-btn",{attrs:{disabled:e.disabled,btnTitle:e.$t("load.txt5")},on:{btnClick:e.submitForm}})],1)])},staticRenderFns:[]},c=s("VU/8")(l,u,!1,null,null,null);r.default=c.exports}});