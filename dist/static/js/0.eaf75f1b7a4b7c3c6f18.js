webpackJsonp([0],{"3iHj":function(e,r){},X3lo:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("mvHQ"),o=t.n(s),i=t("woOf"),a=t.n(i),n=t("Xxa5"),c=t.n(n),u=t("exGp"),l=t.n(u),m=t("Dd8w"),d=t.n(m),g=t("NYxO"),f={data:function(){return{isShowLoadding:!1,isErrorEmail:!1,isErrorPwd:!1,isErrorCode:!1,isShowOrgCode:!1,isAgree:!0,form:{username:"",password:"",password2:"",registerType:"PHONE",authorityType:"CLIENT",platform:"H5",areaCode:"62",verifyCode:"",source:1,symbolCode:null,sessionId:""},code:"",bannerList:null,wathsrls:""}},created:function(){var e=this.$route.query.code||"";localStorage.setItem("u_symbolCode",e)},computed:d()({},Object(g.c)({checkType:"getCheckType",switchType:"getSwitchType",getcurrentGame:"trade/getcurrentGame"}),{areaItem:function(){return this.$store.getters.getAreaCode()},cssSkin:function(){return this.$store.getters.getCssSkin()},disabled:function(){if(this.isEmail){var e=""==this.form.username||""==this.form.password||""==this.form.password2;return e||""==this.code}return""==this.form.username||""==this.form.password||""==this.form.password2||""==this.imgCode},loginDisabled:function(){return""==this.form.username||""==this.form.password},isEmail:function(){return"EMAIL"===this.switchType}}),methods:d()({},Object(g.b)("user",{register:"register",login:"login",verifyUsername:"verifyUsername",codeVerify:"codeVerify",_verifyCode:"verifyCode"}),{getImgCode:function(){this.$refs.imgCode.getCodeImg()},swiperClick:function(e){var r=e.skipUrl;r&&window.open(r,"_blank")},goLogin:function(){this.$router.replace("/login")},btnRegister:function(){var e=this;return l()(c.a.mark(function r(){var t,s,o,i,a,n,u;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.form.sessionId=sessionStorage.getItem("sessionId")||"",e.isAgree){r.next=4;break}return e.errDialog(e.$t("reglogin.txt13")),r.abrupt("return");case 4:if(e.form.registerType=e.switchType,e.form.areaCode=e.isEmail?null:e.areaItem.code,!e.isEmail){r.next=12;break}if(e.isErrorEmail=!e.onFailed({name:"email",value:e.form.username}),!e.isErrorEmail){r.next=10;break}return r.abrupt("return");case 10:r.next=18;break;case 12:if(0==e.form.username.substring(0,1)&&(e.form.username=e.form.username.substr(1)),!(e.form.username.length<10||e.form.username.length>11)&&/^[0-9]*$/.test(e.form.username)){r.next=18;break}return e.isErrorMobile=!0,e.errDialog(e.$t("reglogin.txt14")),r.abrupt("return");case 18:if(e.form.password==e.form.password2){r.next=21;break}return e.errDialog(e.$t("reglogin.txt15")),r.abrupt("return");case 21:if(!e.isEmail){r.next=28;break}if(""!=e.code){r.next=26;break}return e.errDialog(e.$t("reglogin.txt16")),e.isErrorCode=!0,r.abrupt("return");case 26:r.next=32;break;case 28:if(""!=e.imgCode){r.next=32;break}return e.errDialog(e.$t("Silakan masukkan kode verifikasi gambar yang benar")),e.isErrorCode=!0,r.abrupt("return");case 32:return e.isEmail||0==e.form.username.substring(0,1)&&(e.form.username=e.form.username.substr(1)),r.next=35,e.verifyUsername({username:e.form.username});case 35:if(t=r.sent,s=!1,0!=t.code){r.next=47;break}if(!t.data){r.next=44;break}return s=!1,e.errDialog(e.$t("reglogin.txt17")),r.abrupt("return");case 44:s=!0;case 45:r.next=50;break;case 47:return s=!1,e.errDialog(t.msg||e.$t("reglogin.txt18")),r.abrupt("return");case 50:if(o=!1,!e.isEmail){r.next=59;break}return i={mobilePhone:e.form.username,code:e.isEmail?e.code:e.imgCode},r.next=55,e.codeVerify(i);case 55:(a=r.sent)&&0==a.code?o=!0:(o=!1,e.errDialog(a.msg)),r.next=72;break;case 59:return n={sessionId:e.form.sessionId,code:e.imgCode},r.next=62,e._verifyCode(n);case 62:if(0!=(u=r.sent).code){r.next=71;break}if(o=!0,u.data){r.next=69;break}return e.errDialog("Silakan masukkan kode verifikasi gambar yang benar"),e.getImgCode(),r.abrupt("return");case 69:r.next=72;break;case 71:o=!1;case 72:if(!s||!o){r.next=75;break}return r.next=75,e._register();case 75:case"end":return r.stop()}},r,e)}))()},_register:function(){var e=this;this.isShowLoadding=!0,this.isEmail?this.form.verifyCode=this.code:this.form.verifyImageCode=this.imgCode,this.form.symbolCode=localStorage.getItem("u_symbolCode")||null;var r=a()({},this.form);r.platform="H5";var t=this.encrypt(o()(r));this.register(t).then(function(r){e.isShowLoadding=!1,0==r.code?(localStorage.setItem("logo_username",e.form.username),e.toLogin(e.form)):(e.errDialog(r.msg),e.getImgCode())})},toLogin:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return l()(c.a.mark(function t(){var s,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isShowLoadding=!0,s=r||e.form,t.next=4,e.login(s);case 4:o=t.sent,e.isShowLoadding=!1,localStorage.setItem("logo_username",s.username),0===o.code?e.$router.replace({path:"/"}):(o.code,e.errDialog(o.msg));case 8:case"end":return t.stop()}},t,e)}))()},onLogin:function(){this.$router.push("/signin-success")},openXy:function(e){this.$router.push({path:"/xieyi",query:{type:e}})}}),beforeDestroy:function(){this.isShowLoadding=!1}},p={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"invite-main"},[t("div",{staticClass:"login-main"},[t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-title"},[t("switch-login")],1),e._v(" "),"PHONE"==e.switchType?t("basePhone",{attrs:{placeholder:e.$t("reglogin.txt2")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username","string"==typeof r?r.trim():r)},expression:"form.username"}}):e._e(),e._v(" "),"EMAIL"==e.switchType?t("base-input",{attrs:{isError:e.isErrorEmail,placeholder:e.$t("reglogin.txt3")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username","string"==typeof r?r.trim():r)},expression:"form.username"}}):e._e(),e._v(" "),t("base-input",{attrs:{isError:e.isErrorPwd,type:"password",placeholder:e.$t("reglogin.txt4")},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password","string"==typeof r?r.trim():r)},expression:"form.password"}}),e._v(" "),t("base-input",{attrs:{isError:e.isErrorPwd,type:"password",placeholder:e.$t("reglogin.txt5")},model:{value:e.form.password2,callback:function(r){e.$set(e.form,"password2","string"==typeof r?r.trim():r)},expression:"form.password2"}}),e._v(" "),"PHONE"==e.switchType?t("base-code",{ref:"imgCode",attrs:{isError:e.isErrorCode},model:{value:e.imgCode,callback:function(r){e.imgCode=r},expression:"imgCode"}}):e._e(),e._v(" "),"EMAIL"==e.switchType?t("baseSend",{ref:"sendPhone",attrs:{type:"text",sendData:e.form,placeholder:e.$t("reglogin.txt6"),isError:e.isErrorCode},model:{value:e.code,callback:function(r){e.code=r},expression:"code"}}):e._e(),e._v(" "),t("div",{staticClass:"register-agree"},[t("span",{staticClass:"agree-icon",class:{tongyi:e.isAgree},on:{click:function(r){e.isAgree=!e.isAgree}}}),e._v(" "),t("p",{staticClass:"agree-txt"},[e._v("\n          "+e._s(e.$t("reglogin.txt19"))+"\n          "),t("span",{on:{click:function(r){return e.openXy(1)}}},[e._v(e._s(e.$t("reglogin.txt8")))])])]),e._v(" "),t("div",{staticClass:"btn-wrap reg"},[t("base-btn",{attrs:{btnTitle:e.$t("my.txt16"),disabled:e.disabled},on:{btnClick:e.btnRegister}})],1),e._v(" "),t("group-service",{ref:"groupService"})],1),e._v(" "),t("download",{attrs:{checkType:e.checkType}})],1),e._v(" "),e.isShowLoadding?t("loadding"):e._e()],1)},staticRenderFns:[]};var h=t("VU/8")(f,p,!1,function(e){t("3iHj")},"data-v-d1185c84",null);r.default=h.exports}});