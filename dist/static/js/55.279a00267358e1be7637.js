webpackJsonp([55],{boJK:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("Xxa5"),n=t.n(a),s=t("mvHQ"),o=t.n(s),i=t("exGp"),m=t.n(i),u=t("Dd8w"),c=t.n(u),l=t("NYxO"),f={data:function(){return{isShowOrgCode:!1,isAgree:!1,isErrorEmail:!1,isErrorCode:!1,imgCode:"",form:{username:"",type:"",areaCode:"62",isfrom:"reset"}}},computed:c()({},Object(l.c)({checkType:"getCheckType"}),{areaItem:function(){return this.$store.getters.getAreaCode()},disabled:function(){var e=!1;return e=""==this.form.username||""==this.imgCode,e}}),beforeRouteEnter:function(e,r,t){t(function(e){e.form.username=localStorage.getItem("reset_username")||""})},beforeRouteLeave:function(e,r,t){"/areacode"==e.path?localStorage.setItem("reset_username",this.form.username):localStorage.removeItem("reset_username"),t()},methods:c()({},Object(l.d)({setCheckType:"SET_PLAT_TYPE"}),Object(l.b)("user",{verifyUsername:"verifyUsername"}),{checkClick:function(){var e=!this.checkType;this.setCheckType(e)},btnClick:function(){var e=this;return m()(n.a.mark(function r(){var t,a;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=-1==e.form.username.indexOf("@"),e.form.type=t?"PHONE":"EMAIL",e.form.areaCode=t?e.areaItem.code:"",t){r.next=7;break}e.isErrorEmail=!e.onFailed({name:"email",value:e.form.username}),r.next=10;break;case 7:if(!(e.form.username.length<5)&&/^[0-9]*$/.test(e.form.username)){r.next=10;break}return e.errDialog(e.$t("reglogin.txt14")),r.abrupt("return");case 10:if(t||!e.isErrorEmail){r.next=12;break}return r.abrupt("return");case 12:return r.next=14,e.verifyUsername({username:e.form.username});case 14:if(0!=(a=r.sent).code){r.next=21;break}if(a.data){r.next=19;break}return e.errDialog(e.$t("reset.txt6")),r.abrupt("return");case 19:r.next=23;break;case 21:return e.errDialog(a.msg||e.$t("reglogin.txt18")),r.abrupt("return");case 23:return r.next=25,e.verify(e.imgCode);case 25:r.sent.data?e.$router.push({path:"/verification",query:{data:o()(e.form)}}):(e.isErrorCode=!0,e.errDialog(e.$t("reset.txt7")),e.imgCode="",e.$refs.imgCode.getCodeImg());case 27:case"end":return r.stop()}},r,e)}))()}})},d={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("modMain",{attrs:{title:e.$t("reset.txt1")}},[t("div",{staticClass:"login-main padTop20"},[t("p",{staticClass:"form-title"},[e._v(e._s(e.$t("reset.txt2")))]),e._v(" "),t("base-input",{attrs:{isError:e.isErrorEmail,placeholder:e.$t("reglogin.txt1")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username","string"==typeof r?r.trim():r)},expression:"form.username"}}),e._v(" "),t("base-code",{ref:"imgCode",attrs:{isError:e.isErrorCode},model:{value:e.imgCode,callback:function(r){e.imgCode="string"==typeof r?r.trim():r},expression:"imgCode"}}),e._v(" "),t("div",{staticClass:"btn-wrap"},[t("base-btn",{attrs:{btnTitle:e.$t("reset.txt4"),disabled:e.disabled},on:{btnClick:e.btnClick}})],1)],1)])},staticRenderFns:[]},g=t("VU/8")(f,d,!1,null,null,null);r.default=g.exports}});