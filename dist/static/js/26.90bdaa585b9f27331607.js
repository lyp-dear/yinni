webpackJsonp([26],{Mdp9:function(t,e){},YJIO:function(t,e,a){t.exports=a.p+"static/img/WHATS_APP.6ee397d.jpg"},mw2r:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),i=a("exGp"),r=a.n(i),o=a("Dd8w"),u=a.n(o),l=a("3pLw"),c=a("NYxO"),p={data:function(){return{showImg:!1,showShare:!1,link:"",showError:null,fileList:[],type:"WHATS_APP",uploadUrl:[],images:[a("YJIO")]}},mounted:function(){this.link="https://m.sunpowers.online/#/invite?code="+this.userInfo.symbolCode,this.getLast()},methods:u()({},Object(c.b)({sunshineUrl:"user/sunshineUrl",sunshineLast:"user/sunshineLast"}),{isToday:function(t){var e=new Date(t.toString().replace(/-/g,"/")),a=new Date;return e.setHours(0,0,0,0)==a.setHours(0,0,0,0)},getLast:function(){var t=this,e={type:this.type};this.sunshineLast(e).then(function(e){0===e.code&&(t.showError=e.data.enable,t.isToday(e.data.gmtCreate)&&e.data.url.split(",").map(function(e){t.uploadUrl.push(e),t.fileList.push({url:t.imgBaseUrl+e})}))})},afterRead:function(t){var e=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.$toast.loading({message:e.$t("load.txt4"),duration:0,forbidClick:!0}),s=t.file,["image/jpeg","image/pjpeg","image/png"].includes(s.type)){a.next=7;break}return e.errDialog(e.$t("task.txt60")),a.abrupt("return");case 7:if(!(s.size.toFixed(2)>6291456)){a.next=10;break}return e.errDialog(e.$t("task.txt61")),a.abrupt("return");case 10:l.a.postFormData("/upload/fs",{file:s,type:e.type,folder:"file"}).then(function(t){0==t.code?(e.uploadUrl.push(t.data),e.errDialog("Berhasil diunggah, sistem sedang ditinjau"),e.sunshine()):e.errDialog(t.msg)}).catch(function(t){e.$toast.clear()});case 11:case"end":return a.stop()}},a,e)}))()},sunshine:function(){var t={url:this.uploadUrl.join(","),type:this.type};this.sunshineUrl(t).then(function(t){})},share:function(){Number(localStorage.getItem("app_version")||0)>=103?this.showShare=!0:window.appInterface?this.shareApp():this.showShare=!0},shareApp:function(){var t=this,e=this.$t("task.txt66")+"ï¼š"+this.link;window.webkit?window.webkit.messageHandlers.shareSocial.postMessage(e):window.appInterface?window.appInterface.shareSocial(e):this.$copyText(e).then(function(e){t.showDialog(t.$t("task.txt91"))},function(t){})},close:function(){this.showShare=!1}})},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modMain",{staticClass:"noPadding share-group",attrs:{title:"Group sharing",btnTxt:t.$t("task.txt105")},on:{seeImg:function(e){t.showImg=!0}}},[a("div",{staticClass:"upload-group-box"},[a("p",[t._v("\n      "+t._s(t.$t("task.txt117"))+"\n    ")]),t._v(" "),a("p",[t._v("\n      "+t._s(t.$t("task.txt118"))+"\n    ")]),t._v(" "),a("p",{staticStyle:{color:"red","margin-top":"10px"}},[t._v("\n      "+t._s(t.$t("task.txt119"))+"\n    ")]),t._v(" "),a("div",{staticClass:"upload-group"},[a("van-uploader",{attrs:{"after-read":t.afterRead,deletable:!1,accept:"image/*","max-count":"4"},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),t._v(" "),0==t.showError?a("p",{staticClass:"error"},[t._v("\n      Unggah gambar yang salah, harap unggah yang benar besok\n    ")]):t._e(),t._v(" "),1==t.showError?a("p",{staticClass:"error"},[t._v("\n      Disetujui, silakan kembali ke daftar pencarian untuk mendapatkan hadiah\n    ")]):t._e()]),t._v(" "),a("base-btn",{attrs:{btnTitle:t.$t("task.txt48"),disabled:!1},on:{btnClick:function(e){return t.share()}}}),t._v(" "),a("sharePopup",{attrs:{show:t.showShare,link:t.link},on:{close:t.close}}),t._v(" "),a("service"),t._v(" "),a("van-image-preview",{attrs:{images:t.images,closeable:""},model:{value:t.showImg,callback:function(e){t.showImg=e},expression:"showImg"}})],1)},staticRenderFns:[]};var d=a("VU/8")(p,h,!1,function(t){a("Mdp9")},"data-v-57bad08c",null);e.default=d.exports}});